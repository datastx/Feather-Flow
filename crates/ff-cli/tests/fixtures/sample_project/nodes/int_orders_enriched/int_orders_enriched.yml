version: 1
kind: sql

description: "Orders enriched with aggregated payment information"
owner: data-team
tags:
  - intermediate
  - orders

columns:
  - name: order_id
    type: INTEGER
    description: "Unique order identifier"
    tests:
      - unique
      - not_null
  - name: customer_id
    type: INTEGER
    description: "Reference to the customer"
    tests:
      - not_null
  - name: order_date
    type: DATE
    description: "Date the order was placed"
  - name: order_amount
    type: DECIMAL(10,2)
    description: "Original order amount"
  - name: status
    type: VARCHAR
    description: "Order status"
  - name: payment_total
    type: DECIMAL(10,2)
    description: "Total payments received for this order"
  - name: payment_count
    type: INTEGER
    description: "Number of payments made for this order"
